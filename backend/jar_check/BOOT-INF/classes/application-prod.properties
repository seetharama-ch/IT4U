# Production Configuration for Windows Server Deployment

spring.application.name=it4u
server.port=8060

# Database Configuration (PostgreSQL)
spring.datasource.url=jdbc:postgresql://localhost:5432/it4u
spring.datasource.username=it4u_user
spring.datasource.password=Geosoft@1234
spring.datasource.driver-class-name=org.postgresql.Driver
# server.port=8060


# JPA / Hibernate
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# Security (Azure AD - Production)
# Replace these with the actual PROD App Registration values from Azure Portal
spring.security.oauth2.client.registration.azure-dev.client-id=${AZURE_CLIENT_ID}
spring.security.oauth2.client.registration.azure-dev.client-secret=${AZURE_CLIENT_SECRET}
spring.security.oauth2.client.registration.azure-dev.scope=openid,profile,email,User.Read
spring.security.oauth2.client.registration.azure-dev.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.azure-dev.redirect-uri={baseUrl}/login/oauth2/code/azure-dev
spring.security.oauth2.client.provider.azure-dev.authorization-uri=https://login.microsoftonline.com/common/oauth2/v2.0/authorize
spring.security.oauth2.client.provider.azure-dev.token-uri=https://login.microsoftonline.com/common/oauth2/v2.0/token
spring.security.oauth2.client.provider.azure-dev.user-info-uri=https://graph.microsoft.com/oidc/userinfo
spring.security.oauth2.client.provider.azure-dev.jwk-set-uri=https://login.microsoftonline.com/common/discovery/v2.0/keys
spring.security.oauth2.client.provider.azure-dev.user-name-attribute=name
spring.security.oauth2.client.registration.azure-dev.provider=azure-dev

# CORS Configuration (Global)
# CORS Configuration (Global)
management.endpoints.web.exposure.include=*


# --- Mail (Microsoft 365 SMTP) ---
spring.mail.host=smtp.office365.com
spring.mail.port=587
spring.mail.username=it4u-notify@geosoftglobal.com
spring.mail.password=${MAIL_PASSWORD}

spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

spring.mail.properties.mail.smtp.connectiontimeout=10000
spring.mail.properties.mail.smtp.timeout=10000
spring.mail.properties.mail.smtp.writetimeout=10000

# Optional but recommended:
spring.mail.default-encoding=UTF-8
spring.mail.properties.mail.debug=false

# Notification Settings
notifications.email-enabled=true
notifications.it-support-group=${NOTIFICATIONS_IT_SUPPORT_GROUP:itsupport@company.com}
notifications.sender-address=it4u-notify@geosoftglobal.com
#server.port=8080
